(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{2175:(e,r,a)=>{Promise.resolve().then(a.bind(a,2239))},2239:(e,r,a)=>{"use strict";a.d(r,{default:()=>M});var t=a(5155),s=a(2115),l=a(2544),n=a(6942),i=a(63),o=a(1508);let d=o.Ikc({vehicleType:o.k5n(["car","motorcycle"],{message:"Please select a vehicle type"}),nric:o.YjP().min(1,"NRIC is required").regex(/^\d{6}-\d{2}-\d{4}$/,"Please enter a valid NRIC format (e.g., 123456-12-1234)").refine(e=>{let r=e.match(/^(\d{6})/);if(!r)return!1;let a=r[1],t=parseInt(a.substring(0,2),10),s=parseInt(a.substring(2,4),10),l=parseInt(a.substring(4,6),10);if(s<1||s>12)return!1;let n=[0,31,28,31,30,31,30,31,31,30,31,30,31];return t%4==0&&(n[2]=29),l>=1&&l<=n[s]},"Invalid birth date in NRIC (YYMMDD doesn't exist)"),plateNumber:o.YjP().min(1,"Plate number is required").regex(/^[A-Z]{1,3}\s?\d{1,4}[A-Z]?$/i,"Please enter a valid plate number (e.g., ABC1234)"),postcode:o.YjP().min(1,"Postcode is required").regex(/^\d{5}$/,"Please enter a valid 5-digit postcode"),phoneNumber:o.YjP().min(1,"Phone number is required").regex(/^(\+?6?01)[0-46-9]-*[0-9]{7,8}$/,"Please enter a valid Malaysian phone number (e.g., 0123456789)"),email:o.YjP().min(1,"Email is required").email("Please enter a valid email address"),customerType:o.k5n(["individual","company"],{message:"Please select a customer type"})});var c=a(4269),u=a(5783),m=a(6948),p=a(3998),x=a(489);function v(e){let{className:r,...a}=e;return(0,t.jsx)(x.b,{"data-slot":"label",className:(0,c.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...a})}function h(e){let{className:r,type:a,...s}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...s})}var g=a(7439),b=a(9051);function f(e){let{className:r,...a}=e;return(0,t.jsx)(g.bL,{"data-slot":"radio-group",className:(0,c.cn)("grid gap-3",r),...a})}function j(e){let{className:r,...a}=e;return(0,t.jsx)(g.q7,{"data-slot":"radio-group-item",className:(0,c.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:(0,t.jsx)(g.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(b.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function N(e){let{label:r,error:a,required:s,className:l,children:n}=e;return(0,t.jsxs)("div",{className:(0,c.cn)("space-y-2",l),children:[(0,t.jsx)(v,{className:(0,c.cn)("text-sm font-medium",s&&'after:content-["*"] after:ml-0.5 after:text-destructive'),children:r}),n,a&&(0,t.jsx)("p",{className:"text-sm text-destructive font-medium",children:a})]})}function y(e){let{label:r,error:a,required:s,className:l,...n}=e;return(0,t.jsx)(N,{label:r,error:a,required:s,className:l,children:(0,t.jsx)(h,{...n,className:(0,c.cn)(a&&"border-destructive focus-visible:ring-destructive/20",l),"aria-invalid":!!a})})}function C(e){let{label:r,name:a,options:s,value:l,onValueChange:n,error:i,required:o,className:d}=e;return(0,t.jsx)(N,{label:r,error:i,required:o,className:d,children:(0,t.jsx)(f,{name:a,value:l,onValueChange:n,className:"grid grid-cols-1 gap-3",children:s.map(e=>(0,t.jsxs)("div",{className:(0,c.cn)("flex items-start space-x-3 p-3 rounded-lg border transition-colors cursor-pointer hover:bg-muted/50",l===e.value?"border-primary bg-primary/5":"border-transparent"),onClick:()=>null==n?void 0:n(e.value),children:[(0,t.jsx)(j,{value:e.value,id:"".concat(a,"-").concat(e.value),className:"mt-1"}),(0,t.jsxs)("div",{className:"grid gap-1.5 leading-none w-full",children:[(0,t.jsx)(v,{htmlFor:"".concat(a,"-").concat(e.value),className:"text-sm font-medium leading-none cursor-pointer",children:e.label}),e.description&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.value))})})}function w(e){let{onChange:r,...a}=e;return(0,t.jsx)(y,{...a,onChange:e=>{let a=e.target.value.replace(/\D/g,""),t=a;a.length>6&&(t="".concat(a.slice(0,6),"-").concat(a.slice(6))),a.length>8&&(t="".concat(a.slice(0,6),"-").concat(a.slice(6,8),"-").concat(a.slice(8,12))),null==r||r(t)},placeholder:"123456-12-1234",maxLength:14})}function P(e){let{onChange:r,...a}=e;return(0,t.jsx)(y,{...a,onChange:e=>{let a=e.target.value.toUpperCase().replace(/[^A-Z0-9\s]/g,"");null==r||r(a)},placeholder:"ABC1234",maxLength:10,style:{textTransform:"uppercase"}})}let I=[{value:"car",label:"Car",description:"Private car or sedan"},{value:"motorcycle",label:"Motorcycle",description:"Motorcycle or scooter"}],q=[{value:"individual",label:"Individual",description:"Personal insurance"},{value:"company",label:"Company",description:"Corporate insurance"}];var k=a(7910),A=a(4947),T=a(1390),Y=a(9715);let D=["Details","Loading","Results"];function M(){let e=(0,i.useRouter)(),[r,a]=s.useState(!1),{register:o,handleSubmit:x,setValue:v,control:h,formState:{errors:g,isValid:b}}=(0,l.mN)({resolver:(0,n.u)(d),mode:"onChange"}),f=async r=>{a(!0);try{sessionStorage.setItem("insuranceFormData",JSON.stringify(r)),e.push((0,c.aD)("/loading"))}catch(e){console.error("Form submission error:",e),a(!1)}};return(0,t.jsx)(u.Mx,{children:(0,t.jsxs)(u.Lm,{title:"Get Your Insurance Quote",subtitle:"Fill in your details to find the best insurance policies for you",maxWidth:"max-w-2xl",children:[(0,t.jsx)(u.SK,{steps:D,currentStep:0}),(0,t.jsxs)(m.Zp,{className:"shadow-lg",children:[(0,t.jsx)(m.aR,{className:"text-center pb-6",children:(0,t.jsxs)(m.ZB,{className:"text-2xl font-bold text-foreground flex items-center justify-center space-x-2",children:[(0,t.jsx)(k.A,{className:"w-6 h-6 text-primary"}),(0,t.jsx)("span",{children:"Insurance Details"})]})}),(0,t.jsx)(m.Wu,{children:(0,t.jsxs)("form",{onSubmit:x(f),className:"space-y-6",children:[(0,t.jsx)(l.xI,{name:"vehicleType",control:h,render:e=>{var r;let{field:a}=e;return(0,t.jsx)(C,{label:"Vehicle Type",name:"vehicleType",options:I.map(e=>({value:e.value,label:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:["car"===e.value?(0,t.jsx)(A.A,{className:"w-5 h-5 text-primary"}):(0,t.jsx)(T.A,{className:"w-5 h-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})]}),description:void 0})),value:a.value,onValueChange:a.onChange,error:null==(r=g.vehicleType)?void 0:r.message,required:!0})}}),(0,t.jsx)(l.xI,{name:"nric",control:h,render:e=>{var r;let{field:a}=e;return(0,t.jsx)(w,{label:"NRIC Number",value:a.value||"",onChange:a.onChange,error:null==(r=g.nric)?void 0:r.message,required:!0,placeholder:"123456-12-1234"})}}),(0,t.jsx)(l.xI,{name:"plateNumber",control:h,render:e=>{var r;let{field:a}=e;return(0,t.jsx)(P,{label:"Vehicle Plate Number",value:a.value||"",onChange:a.onChange,error:null==(r=g.plateNumber)?void 0:r.message,required:!0,placeholder:"ABC1234"})}}),(0,t.jsx)(l.xI,{name:"postcode",control:h,render:e=>{var r;let{field:a}=e;return(0,t.jsx)(y,{label:"Postcode",value:a.value||"",onChange:e=>a.onChange(e.target.value),error:null==(r=g.postcode)?void 0:r.message,required:!0,placeholder:"50450",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:5})}}),(0,t.jsx)(l.xI,{name:"phoneNumber",control:h,render:e=>{var r;let{field:a}=e;return(0,t.jsx)(y,{label:"Phone Number",value:a.value||"",onChange:e=>a.onChange(e.target.value),error:null==(r=g.phoneNumber)?void 0:r.message,required:!0,placeholder:"0123456789",type:"tel"})}}),(0,t.jsx)(l.xI,{name:"email",control:h,render:e=>{var r;let{field:a}=e;return(0,t.jsx)(y,{label:"Email Address",value:a.value||"",onChange:e=>a.onChange(e.target.value),error:null==(r=g.email)?void 0:r.message,required:!0,placeholder:"your@email.com",type:"email"})}}),(0,t.jsx)(l.xI,{name:"customerType",control:h,render:e=>{var r;let{field:a}=e;return(0,t.jsx)(C,{label:"Customer Type",name:"customerType",options:q.map(e=>({value:e.value,label:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(Y.A,{className:"w-5 h-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})]}),description:void 0})),value:a.value,onValueChange:a.onChange,error:null==(r=g.customerType)?void 0:r.message,required:!0})}}),(0,t.jsx)("div",{className:"pt-6",children:(0,t.jsx)(p.$,{type:"submit",className:"w-full h-12 text-lg font-semibold",disabled:!b||r,children:r?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Processing..."})]}):"Get Insurance Quotes"})})]})})]}),(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,t.jsx)("p",{children:"Your information is secure and will only be used to provide insurance quotes."})})]})})}}},e=>{e.O(0,[887,108,309,441,255,358],()=>e(e.s=2175)),_N_E=e.O()}]);